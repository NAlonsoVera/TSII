function mpolLocalStorage(n){if(console.log(n),typeof Storage=="undefined")return alert("Sorry! No Web Storage support.."),!1;const i=localStorage.getItem(n),t=i?JSON.parse(i):[];return{add:function(i){return t.push(i),localStorage.setItem(n,JSON.stringify(t)),!0},set:function(i,r){return t[i]=r,localStorage.setItem(n,JSON.stringify(t)),!0},get:function(n){return n?t[n]:t},"delete":function(i){return i==undefined?(localStorage.removeItem(n),!0):(t.splice(i,1),localStorage.setItem(n,JSON.stringify(t)),!0)}}}function mpolRefreshItem(n){if(n===!0)$.ajax({url:"/ShoppingCart/Count",type:"GET",success:function(n){n&&n!==0&&$(".cart-no").text(n)}});else if(n===!1){const n=mpolLocalStorage("mpol_carritotemporal").get();n&&n.length!==0&&$(".cart-no").text(n.length)}else $.ajax({url:"/Login/ValidateSession",type:"GET",success:function(n){if(n)$.ajax({url:"/ShoppingCart/Count",type:"GET",success:function(n){n&&n!==0&&$(".cart-no").text(n)}});else{const n=mpolLocalStorage("mpol_carritotemporal").get();n&&n.length!==0&&$(".cart-no").text(n.length)}}})}function formatMoney(n,t){return t+" "+n.toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g,"$1,")}function invocarModal(n,t){$.ajax({url:n,type:"GET",dataType:"html",success:function(n){$("body").append(n);t&&t(n)},beforeSend:function(){$("#adminlte--Loading").addClass("active")},complete:function(){$("#adminlte--Loading").removeClass("active")}})}$(function(){mpolRefreshItem();try{$.validator.setDefaults({ignore:[]})}catch(n){}$.ajax({url:"/Login/ValidateSession",type:"GET",success:function(n){if(n){const n=mpolLocalStorage("mpol_carritotemporal").get();n&&n.length!==0&&$.ajax({url:"/ShoppingCart/AgregarMasivo",data:{productos:n},type:"POST",success:function(n){n.Success?(mpolLocalStorage("mpol_carritotemporal").delete(),mpolRefreshItem(!0)):console.log("Error..."+n.MessageError)}})}}});window.location.origin!==window.location.href.slice(0,-1)&&$.ajax({url:"/Default/Tracking",data:{link:window.location.href},type:"GET",success:function(){}})});