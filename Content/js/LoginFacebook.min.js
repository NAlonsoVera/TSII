function statusChangeCallback(n){n.status==="connected"&&callLoginAPI()}function checkLoginState(){FB.getLoginStatus(function(n){statusChangeCallback(n)})}function login(){FB.login(function(n){statusChangeCallback(n)},{scope:"email",auth_type:"reauthorize"})}function callLoginAPI(){FB.api("/me",{fields:"name, email, first_name, last_name, gender"},function(n){if(!localStorage.getItem("usuarioFacebook")){$(".loading").show();const t={cNombre:n.first_name,cPaterno:n.last_name,cEmail:n.email};localStorage.setItem("usuarioFacebook",t.cEmail);const i=window.location.pathname.includes("Register")?1:0,r=encryptarUsuario(t);registrarUsuarioGoogleOFacebook({encriptado:r,opcion:i})}})}function CerrarSesionFacebook(){localStorage.getItem("usuarioFacebook")&&(localStorage.removeItem("usuarioFacebook"),FB.logout(function(n){statusChangeCallback(n)}))}(function(n,t,i){var r,u=n.getElementsByTagName(t)[0];n.getElementById(i)||(r=n.createElement(t),r.id=i,r.src="https://connect.facebook.net/en_US/sdk.js",u.parentNode.insertBefore(r,u))})(document,"script","facebook-jssdk");const appId="400763174572330",scope="public_profile, email";window.fbAsyncInit=function(){FB.init({appId:appId,cookie:!0,status:!0,xfbml:!0,version:"v9.0"});FB.getLoginStatus(function(n){statusChangeCallback(n)})};